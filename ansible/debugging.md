###### FAQ / ANSIBLE
# Debugging 

## 1. Active the ansible debugger for a playbook 

To activate the debugger on a playbook, add the following line to your playbook header : 

```yaml
---
  strategy: debug
```  

Yopur playbook header will look like : 

```yaml
- hosts: localhost
  gather_facts: no
  ...
  strategy: debug
  ...
  tasks:
    ...
```

When an error occurs on any tasks of your play, the `debugger` will be invoked and you will see a prompt like: 

```bash
Debugger invoked
(debug)
```

For more informations, go to the [Ansible 2.4 - Playbook Debugger doc](https://docs.ansible.com/ansible/2.4/playbooks_debugger.html)


## 2. Keep ansible generated files 

It is sometimes useful to keep  files generated by ansible. For example, when you're using the `validate` feature of the `template` module, it could be useful to get the content of the temp file that the module creates before running the validation command.
To do so, set the the ansible global env var `ANSIBLE_KEEP_REMOTE_FILES` to `1` as follows : 

```bash 
ANSIBLE_KEEP_REMOTE_FILES=1 ansible-playbook ...
```
